assist:
  low_conf_threshold: 0.6
  suggestions_top_k: 25
clustering:
  eps: 0.45
  method: dbscan
  min_samples: 2
  quality_threshold: 0.6
  face_quality:
    min_face_conf: 0.58
    min_face_px: 64
    max_co_face_iou: 0.1
    top_k_per_track: 10
    require_embedding: true
  contamination_audit:
    enabled: true
    outlier_mad_threshold: 3.0
    outlier_sim_threshold: 0.75
    cross_id_margin: 0.1
    min_contiguous_frames: 4
    auto_split_enabled: true
    min_evidence_strength: 0.12
confidence:
  frame_low: 0.58
  track_low_p25: 0.55
  track_high_p25: 0.72
  track_conflict_frac_high: 0.2
  cluster_low_p25: 0.62
  cluster_contam_high: 0.2
  person_low_p25: 0.7
  person_contam_high: 0.15
  top2_margin_low: 0.10
detection:
  min_confidence: 0.68
  provider_order:
  - coreml
  - cpu
  recall:
    birth_confirm_frames: 3
    enabled: true
    max_window_duration_ms: 5000
    min_confidence: 0.6
    min_face_px: 50
    scale_factors:
    - 1.0
    - 1.3
    - 1.6
detection_ab:
  enabled: false
  rationale: "SCRFD spot-check scanned 99 frames from hardest gaps (YOLANDA, RINNA,\
    \ BRANDI).\nBoth RetinaFace and SCRFD found ZERO small faces (\u226480px), indicating\
    \ root cause\nis threshold filtering (min_face_px=72) not detector choice. 0%\
    \ lift < 30% gate.\nDecision: Skip full A/B (6 hours saved), focus on densify\
    \ threshold tuning.\n"
  baseline_detector: retinaface
  alternative_detector: scrfd
  spot_check_results:
    frames_scanned: 99
    retinaface_small_faces: 0
    scrfd_small_faces: 0
    lift_percent: 0.0
    gate_threshold: 30.0
    gate_passed: false
  full_ab_skipped: true
  spot_check_report: data/harvest/RHOBH-TEST-10-28/diagnostics/reports/scrfd_spotcheck.json
embedding:
  skip_redetect: false
  skip_redetect_for_seeds: true
  align_priority: kps_then_bbox
  margin_scale: 1.35
  min_chip_px: 64
  fallback_scales:
  - 1.0
  - 1.2
  - 1.4
  allow_presence_without_embedding: true
entrance:
  enabled: true
  pad_ms: 800
  cluster:
    eps: 0.35
    min_samples: 2
    min_duration_ms: 600
  verify:
    seed_min_similarity: 0.72
    negative_margin: 0.06
  bridge:
    set_topk: 5
    sim_min: 0.7
    temporal_adj_ms: 1000
paths:
  data_root: data
  facebank: data/facebank
  harvest: data/harvest
  outputs: data/outputs
  videos: data/videos
retention:
  debug_ttl_days: 7
  enforce_single_tracks_json: true
  max_artifact_bytes: 8000000000
  thumbnails_ttl_days: 14
timeline:
  gap_merge_ms_base: 2000
  edge_epsilon_ms: 150
  min_visible_frac: 0.6
  min_interval_frames: 6
  conflict_guard_ms: 500
  min_interval_quality: 0.7
  use_scene_bounds: false
  auto_caps:
    enabled: true
    safe_gap_percentile: 0.8
    cap_min_ms: 1200
    cap_max_ms: 2500
tracking:
  iou_threshold: 0.5
  reid:
    enabled: true
    max_gap_ms: 2500
    min_margin: 0.08
    min_sim: 0.82
    topk: 5
    use_scene_bounds: false
  temporal_stitch_ms: 1500
local_densify:
  enabled: true
  max_gap_ms: 10000
  pad_ms: 800
  detection:
    min_confidence: 0.58
    min_face_px: 44
    nms_iou: 0.4
    scales:
    - 1.0
    - 1.25
    - 1.5
    - 2.0
  verify:
    min_sim: 0.86
    min_margin: 0.12
    min_consecutive: 4
  negative_to_others:
    enabled: true
    margin: 0.06
  skip_frozen: true
local_densify_pass2:
  enabled: true
  trigger_threshold: 4.5
  target_largest_gap: true
  detection:
    min_confidence: 0.5
    min_face_px: 36
    nms_iou: 0.4
    scales:
    - 1.0
    - 1.35
    - 1.7
    - 2.2
  verify:
    min_sim: 0.88
    min_margin: 0.14
    min_consecutive: 5
  negative_to_others:
    enabled: true
    margin: 0.06
ui:
  prefer_assets_thumbnails: true
video:
  min_face_px: 50
  sampling_stride_ms: 100
  use_scene_detect: false
post_label_recall:
  enabled: true
  window_pad_ms: 300
  max_gap_ms: 10000
  target_identities: null
  detection:
    min_confidence: 0.58
    min_face_px: 45
    scales:
    - 1.0
    - 1.3
    - 1.6
    - 2.0
    use_person_roi: false
    provider_order:
    - coreml
    - cpu
  track:
    birth_min_frames: 3
  reid:
    min_sim: 0.82
    min_margin: 0.08
